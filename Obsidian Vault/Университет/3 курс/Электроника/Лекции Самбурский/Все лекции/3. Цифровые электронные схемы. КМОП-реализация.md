
## Содержание лекции:
1.  Основные параметры логических схем
2.  КМОП-схема инвертора
3.  КМОП-схемы И и ИЛИ

---

## 1. Цифровые электронные схемы: Обзор основных концепций

### Основные параметры логических вентилей
*   **Статические характеристики:** Описывают поведение схемы в установившемся режиме.
*   **Динамические характеристики:** Описывают поведение схемы во время переключения состояний.

### КМОП-схема инвертора
*   **Передаточная характеристика:** Соотношение между входным и выходным напряжением.
*   **Поведение в динамике:** Как быстро схема переключается.
*   **Мощность потребления:** Энергия, расходуемая схемой.

### КМОП-схемы для других логических функций
*   КМОП-схема И-НЕ (NAND)
*   КМОП-схема ИЛИ-НЕ (NOR)

---

## 2. КМОП-инвертор

### Недостатки п-МОП инвертора
Традиционные n-МОП инверторы имеют ряд существенных недостатков:
*   Сопротивление в цепи стока (Rc) должно быть значительно больше сопротивления самого транзистора во включённом состоянии.
*   Требования к величине Rc противоречивы с точки зрения достижения высокой скорости работы и низкого энергопотребления.
*   Схема потребляет значительную энергию (с мощностью порядка V^2_пит / Rc) в состоянии логического "0".

![[Pasted image 20250916115252.png]]
#### Объяснение картинки
Эта картинка прекрасно иллюстрирует недостатки n-МОП инвертора с резистивной нагрузкой. Давайте разберем каждую часть схемы, чтобы понять, почему эти инверторы считаются неэффективными по сравнению с КМОП.

На схеме показан инвертор, состоящий из резистора нагрузки `Rc` (подключенного к питанию `VDD`) и n-МОП транзистора `M1` (подключенного к земле). Выход инвертора берется между `Rc` и `M1`.
![[Pasted image 20250916115545.png]]
##### (a) Объяснение: Формирование логического "0" на выходе и проблема с `Rc`

*   **Что изображено:** На схеме (a) показана эквивалентная схема делителя напряжения, которая возникает, когда n-МОП транзистор `M1` **включен** (то есть, проводит ток). В этом состоянии транзистор ведет себя как резистор с сопротивлением `R_вкл` (сопротивление включенного канала). Выход схемы при этом должен быть логическим "0".
*   **Как это работает:** Напряжение на выходе (V_OUT) определяется как V_DD, умноженное на отношение `R_вкл` к сумме `R_вкл + Rc`. То есть, `V_OUT = V_DD * (R_вкл / (R_вкл + Rc))`.
*   **Недостаток (связь с пунктом 1):** Чтобы выходное напряжение было достаточно близко к 0 В (сильный логический "0"), необходимо, чтобы `R_вкл` было **значительно меньше** `Rc`. Если `Rc` не будет намного больше, чем `R_вкл`, то на выходе останется заметное напряжение (например, 1В или 2В), что может быть интерпретировано следующими логическими элементами как неопределенное или даже ложное состояние. Таким образом, `Rc` должно быть большим, чтобы "поглотить" большую часть напряжения V_DD, 
* **"Чтобы получить хороший "ноль" на выходе, одно сопротивление должно быть сильно больше другого."**
    - **Простыми словами:** Инвертор должен выдать на выход "ноль" (очень низкое напряжение, почти "пусто"). Для этого у нас есть два "сопротивления" (как два узких места в трубе): одно — это сам транзистор, когда он открыт (R_вкл), другое — это внешний резистор (Rc). Чтобы на выходе было почти "пусто", большинство "давления" (напряжения) должно "упасть" на внешнем резисторе. Значит, этот внешний резистор (Rc) должен быть гораздо сильнее "тормозить" поток, чем открытый транзистор.
##### (b) Объяснение: Динамическое поведение и противоречие "скорость vs. мощность"
![[Pasted image 20250916115559.png]]
*   **Что изображено:** На схеме (b) показана ситуация, когда n-МОП транзистор `M1` **выключен** (изображен блеклым, не проводит ток). К выходу схемы подключена паразитная нагрузочная емкость `CH` (C_нагрузки), которая всегда присутствует в реальных схемах (емкость монтажа, входов следующих элементов и т.д.). График справа показывает, как напряжение на выходе постепенно нарастает (переход из "0" в "1").
*   **Как это работает:** Когда транзистор `M1` выключается, путь к земле прерывается. Чтобы выход перешел из "0" в "1" (т.е., зарядился до `VDD`), емкость `CH` должна зарядиться через резистор `Rc`.
*   **Недостаток (связь с пунктом 2):** Скорость заряда емкости `CH` определяется произведением `Rc * CH` (временная константа RC-цепи).
    *   **Для высокой скорости** (быстрый переход в "1") требуется, чтобы `Rc` было **маленьким**, тогда емкость `CH` зарядится быстро.
    *   Однако, как мы видели в пункте (a), для формирования хорошего логического "0" требуется, чтобы `Rc` было **большим**.
*   **Противоречие:** Таким образом, инженеру приходится выбирать между быстрой работой (маленький `Rc`) и формированием четкого логического "0" (большой `Rc"). Это классический компромисс "скорость против мощности/качества сигнала".
* **"Требования к этому сопротивлению (Rc) противоречивы: оно не может быть одновременно хорошим для скорости и экономии энергии."**
    
    - **Простыми словами:** Представьте, что Rc — это такой "шланг", через который заполняется или опустошается "ёмкость" на выходе.
        
        - **Для скорости:** Чтобы быстро заполнить эту "ёмкость" (переключить выход в "единицу"), нам нужен широкий шланг (маленькое Rc), чтобы вода быстро текла.
            
        - **Для экономии и хорошего "ноля":** Но, как мы поняли из пункта 1, для получения хорошего "ноля" и для экономии энергии (чтобы не было большого постоянного тока, см. пункт 3), нам нужен очень узкий шланг (большое Rc).
            
    - **Противоречие:** Вы не можете сделать шланг одновременно очень широким и очень узким. Приходится выбирать что-то одно, жертвуя другим.

##### (c) Объяснение: Статическое потребление энергии
![[Pasted image 20250916115611.png]]
*   **Что изображено:** На схеме (c) показан токовый путь, когда n-МОП транзистор `M1` **включен** (выход в состоянии "0"). Стрелка вниз указывает на протекание постоянного тока.
*   **Как это работает:** Когда `M1` включен, через него и резистор `Rc` непрерывно течет ток от `VDD` к земле. Величина этого тока приблизительно равна `VDD / (Rc + R_вкл)`. Если `R_вкл` значительно меньше `Rc` (что необходимо для хорошего "0"), то ток приближенно равен `VDD / Rc`.
*   **Недостаток (связь с пунктом 3):** Это постоянное протекание тока приводит к **статическому рассеиванию мощности** даже когда схема находится в стабильном состоянии и ничего не переключает. Мощность, рассеиваемая в этом режиме, составляет примерно `P = V_DD * I ≈ V_DD * (V_DD / Rc) = V_DD^2 / Rc`.
    *   Это отличает n-МОП инверторы от КМОП-схем, где в статическом режиме (когда выход либо "0", либо "1") ток практически не течет, и статическое энергопотребление очень низкое. Для n-МОП инвертора с резистивной нагрузкой, если выход находится в состоянии "0", энергия расходуется постоянно, что делает такие схемы непригодными для устройств с батарейным питанием или для крупномасштабной интеграции.
* **"Когда на выходе "ноль", схема постоянно потребляет энергию, просто так."**
    - **Простыми словами:** Когда инвертор выдает "ноль" (транзистор открыт), это как если бы у вас в доме постоянно был приоткрыт кран, и вода потихоньку стекала в канализацию. Электричество постоянно течет от источника питания через резистор Rc и открытый транзистор к земле. Эта постоянно текущая вода (электричество) не делает ничего полезного, но за неё приходится платить – это пустая трата энергии. В отличие от современных КМОП-схем, где, когда на выходе "ноль" или "единица", никакого постоянного "утекания" тока почти нет.

**В итоге, эта картинка наглядно демонстрирует, что n-МОП инвертор с резистивной нагрузкой страдает от:**
1.  **Неоптимального формирования логических уровней**, если `Rc` не выбрано правильно.
2.  **Противоречивых требований к `Rc`** для достижения как высокой скорости, так и хорошего логического уровня.
3.  **Высокого статического энергопотребления**, когда выход находится в состоянии логического "0".

Именно эти недостатки привели к широкому распространению КМОП-технологии, где роль резистора `Rc` выполняет p-МОП транзистор, который выключается, когда n-МОП включен, тем самым устраняя сквозной статический ток.
#### А теперь нормальное объяснение
Хорошо, давайте разберем эти три пункта о недостатках p-МОП инвертора простыми словами.

Представьте p-МОП инвертор как два элемента, соединенных последовательно между питанием (VDD) и землей:
1.  **Резистор Rc** (который находится в цепи стока).
2.  **p-МОП транзистор**.

Когда входной сигнал подается на затвор p-МОП транзистора, он либо открывается, либо закрывается, изменяя свое сопротивление.

##### 1. "Сопротивление в цепи стока (Rc) должно быть значительно больше сопротивления самого транзистора во включённом состоянии."

*   **Что это значит?** Когда p-МОП транзистор *открыт* (то есть, он "включен" и проводит ток), его собственное сопротивление становится довольно низким. Для того чтобы инвертор правильно работал и выдавал четкий логический "0" на выходе (близкий к земле), бОльшая часть напряжения должна падать на резисторе Rc.
*   **Почему так?** Представьте, что у вас есть делитель напряжения из двух резисторов: Rc и сопротивление открытого транзистора (R_тр_вкл). Если Rc будет *меньше* или *сравнимо* с R_тр_вкл, то на выходе мы получим напряжение, которое будет слишком высоким для логического "0" (например, 1В или 2В вместо 0В). Чтобы на выходе было почти 0В, Rc должно быть намного больше, чем R_тр_вкл, тогда почти все напряжение VDD "упадет" на Rc, а на транзисторе останется мало.

##### 2. "Требования к величине Rc противоречивы с точки зрения достижения высокой скорости работы и низкого энергопотребления."

*   **Скорость работы:** Чтобы инвертор работал быстро, он должен быстро заряжать и разряжать паразитные емкости на выходе (например, емкости следующих за ним схем).
    *   **Быстрый заряд:** Для быстрого заряда (чтобы выход быстро перешел в "1") нужен *маленький* Rc, так как ток заряда будет большим (I = VDD / (Rc + R_тр_выкл)).
    *   **Быстрый разряд:** Для быстрого разряда (чтобы выход быстро перешел в "0") нужен *маленький* Rc, чтобы ток через транзистор быстро убрал заряд с емкости (но здесь Rc стоит в пути зарядки, а не разрядки).
    *   **Важнее для p-МОП инвертора с резистором:** Когда транзистор открыт, и мы хотим получить логический "0", а потом закрыть транзистор, чтобы получить "1", именно через Rc происходит заряд нагрузочной емкости. Чем *больше* Rc, тем *медленнее* заряжается эта емкость, и тем *медленнее* схема переходит в "1". То есть, для *быстрой* работы нужно *маленькое* Rc.
*   **Низкое энергопотребление:** Когда инвертор находится в состоянии логического "0" (транзистор открыт), через него постоянно течет ток от VDD через Rc и транзистор на землю.
    *   Мощность, потребляемая в этом состоянии: P = I^2 * R_общ = (VDD / (Rc + R_тр_вкл))^2 * (Rc + R_тр_вкл) = VDD^2 / (Rc + R_тр_вкл).
    *   Чтобы снизить это постоянное потребление мощности, нужно сделать ток как можно *меньше*. А для этого нужно сделать Rc как можно *больше*.
*   **Противоречие:** Мы хотим *маленькое* Rc для *скорости*, но *большое* Rc для *экономии энергии*. Невозможно удовлетворить обоим требованиям одновременно оптимально. Приходится искать компромисс.

##### 3. "Схема потребляет значительную энергию (с мощностью порядка V^2_пит / Rc) в состоянии логического "0"."

*   **Состояние логического "0":** Это когда на выходе инвертора низкое напряжение (близкое к 0В). В p-МОП инверторе это достигается, когда p-МОП транзистор *открыт* (включен).
*   **Постоянный ток:** Когда транзистор открыт, он фактически создает низкоомный путь между выходом и землей. Поскольку сверху (от VDD) подключен резистор Rc, образуется непрерывный токовый путь от VDD через Rc и открытый транзистор на землю. То есть, ток *постоянно* течет через схему, пока она находится в состоянии "0".
*   **Потребление мощности:** Это постоянное протекание тока приводит к постоянному рассеиванию мощности. Мощность, как мы видели выше, приближенно равна VDD^2 / (Rc + R_тр_вкл). Если R_тр_вкл мало по сравнению с Rc (чтобы выход был близко к 0В, как в пункте 1), то мощность примерно равна **VDD^2 / Rc**.
*   **Значительная энергия:** В отличие от КМОП-схем, где в статическом состоянии (логический "0" или "1") ток практически не течет (и, следовательно, почти нет статического потребления мощности), в таком p-МОП инверторе *всегда* есть ток и потребление мощности, когда выход в "0". Это делает его неэффективным с точки зрения энергосбережения, особенно для портативных устройств.

**Резюмируя:** p-МОП инверторы с резистором-нагрузкой страдают от фундаментального компромисса между скоростью и энергоэффективностью, а также от постоянного потребления мощности в одном из своих стабильных состояний, что делает их менее привлекательными по сравнению с КМОП-технологией.

### Способ улучшения схемы инвертора
#### **а) Принцип действия:**
Для улучшения характеристик инвертора используется "подтягивающее" устройство к питанию, которое заменяет резистор Rc. Это устройство активно помогает заряжать выходную ёмкость, снижая сопротивление зарядного пути.
![[Pasted image 20250916120338.png]]
##### Давайте объясним это на примере водопровода.
Представьте старый способ (с резистором `Rc`):

У вас есть бак (это выход вашей схемы), который нужно наполнить или опустошить. Вода (электричество) приходит из главной трубы (питание VDD).

1.  **Чтобы наполнить бак (переключить выход в "единицу"):** Вода поступает через постоянную, узкую трубу (резистор `Rc`).
    *   Если труба **очень узкая** (`Rc` большое), бак наполняется *очень медленно*. Схема работает медленно.
    *   Если труба **шире** (`Rc` маленькое), бак наполняется *быстрее*. Схема работает быстрее.
2.  **Проблема с узкой трубой (`Rc` большое):** Она замедляет работу.
3.  **Проблема с широкой трубой (`Rc` маленькое):** Она создает другие проблемы, о которых мы говорили (например, плохое качество "ноля" и постоянный ток).

##### А теперь новый, улучшенный способ (с "подтягивающим" устройством):

Мы убираем эту постоянную, компромиссную трубу (`Rc`). Вместо неё ставим **умный кран** или **специальный насос**, который может делать две вещи:

*   **Когда нужно быстро наполнить бак (сделать выход "единицей"):** Умный кран (или насос) **активно открывается очень широко** (или насос начинает быстро качать воду). Он делает путь для воды очень широким (низкое сопротивление). Вода быстро-быстро заполняет бак! Это делает схему *очень быстрой* при переходе в "единицу".
*   **Когда бак уже наполнен или нужно его опустошить (сделать выход "нолем"):** Умный кран **полностью закрывается** (или насос выключается). Теперь вода из главной трубы вообще не течет в бак. Это решает все проблемы с постоянным током и позволяет получить идеальный "ноль" на выходе.

**Итог:** "Подтягивающее" устройство — это как *умный, управляемый кран*, который заменяет простой, фиксированный резистор. Он умеет **активно** помогать, то есть, целенаправленно создавать широкий путь для тока, когда это нужно для скорости, и полностью перекрывать его, когда это не нужно, для экономии энергии и хорошего качества сигнала.
#### **б) Пример: сравнение старого и нового способа построения:**
Сравнение показывает, что при использовании подтягивающего элемента к питанию, время заряда выходной ёмкости уменьшается, что приводит к увеличению скорости работы.
![[Pasted image 20250916120426.png]]
Эта картинка очень наглядно сравнивает, почему новый (КМОП) способ построения инверторов гораздо лучше старого (с резистором). Давайте разберем каждую часть.

**Сначала поймем, что такое инвертор:**
Инвертор – это самая простая логическая схема. Если на вход подать "0" (низкое напряжение), на выходе будет "1" (высокое напряжение). Если на вход подать "1" (высокое напряжение), на выходе будет "0" (низкое напряжение).

В обеих схемах:
*   `V_DD` – это источник питания (самое высокое напряжение, "единица").
*   `0` (земля) – это самое низкое напряжение ("ноль").
*   `V_BX` – это входной сигнал.
*   `M1` – это n-МОП транзистор. Представьте его как кран, который открывается, когда на `V_BX` подается "1", и закрывается, когда на `V_BX` подается "0". Когда кран открыт, он соединяет выход с землей.
*   `C_H` – это нагрузочная емкость. Представьте ее как маленький резервуар для воды на выходе. Ее нужно заряжать или разряжать.
*   `V_ВЫХ` – это выходной сигнал.
*   **Красные стрелки** показывают, куда течет ток (электричество).

---

##### Верхняя схема: "Старый способ построения" (n-МОП инвертор с резистором)
![[Pasted image 20250916120825.png]]
*   **Что здесь есть:** Резистор `R_C` (постоянное сопротивление) между питанием `V_DD` и выходом, и транзистор `M1` между выходом и землей.
*   **Что происходит, когда `V_BX` становится высоким (вход "1"):**
    *   Транзистор `M1` **открывается** (кран открывается), создавая путь для тока к земле.
    *   Выход `V_ВЫХ` стремится к "0" (сток воды в резервуаре уменьшается).
    *   **НО!** Резистор `R_C` *всегда* подключен к `V_DD`. Поэтому, когда `M1` открыт, ток **постоянно течет** по красному пути: от `V_DD` через `R_C` и `M1` к земле.
*   **Недостаток этого способа:**
    *   **Пустая трата энергии:** Пока выход находится в состоянии "0", через схему *постоянно течет ток*. Это как постоянно открытый кран, из которого капает вода, хотя ничего не используется. Это тратит энергию батареи или электросети впустую.
    *   **Медленный заряд:** Когда `M1` закрывается (вход "0", выход должен стать "1"), емкость `C_H` заряжается только через резистор `R_C`. Если `R_C` большое (чтобы не было больших потерь тока), то зарядка происходит *медленно*, и схема работает медленно.

---

##### Нижняя схема: "Новый способ построения" (КМОП инвертор)
![[Pasted image 20250916120838.png]]
*   **Что здесь есть:** Вместо резистора `R_C` мы используем "Устройство, подтягивающее к питанию" (показано как пунктирный квадратик со своим управляемым переключателем). В КМОП-схемах это обычно **второй транзистор** (p-МОП транзистор), который работает "наоборот" по сравнению с `M1`.
*   **Что происходит, когда `V_BX` становится высоким (вход "1"):**
    *   Транзистор `M1` **открывается** (соединяет выход с землей).
    *   **НО!** "Устройство, подтягивающее к питанию" (второй транзистор), которое реагирует на тот же `V_BX`, в этот момент **полностью закрывается**. Это как если бы верхний кран, подающий воду из `V_DD`, перекрылся.
    *   Выход `V_ВЫХ` стремится к "0" (как и раньше, вода уходит через `M1`).
    *   **Обратите внимание на красную стрелку:** Теперь она показывает ток, который просто *разряжает емкость `C_H` через `M1`*. **Нет постоянного тока от `V_DD` к земле**, потому что "подтягивающее" устройство отключило `V_DD`!
*   **Преимущества этого способа:**
    *   **Нет пустой траты энергии в статике:** Когда выход в состоянии "0" (или "1"), нет постоянного пути для тока от `V_DD` к земле через схему. Это огромная экономия энергии, особенно для мобильных устройств.
    *   **Быстрая работа:** Когда нужно переключить выход в "1" (то есть, `M1` закрывается), "подтягивающее" устройство (второй транзистор) **активно открывается** и быстро "заливает" емкость `C_H` до `V_DD`, обеспечивая высокую скорость.

**Итог простыми словами:**
Старый инвертор постоянно "капает" энергию, когда его выход в "нуле". Новый (КМОП) инвертор умнее: когда ему нужно быть в "нуле", он полностью перекрывает подачу энергии сверху, а когда нужно быть в "единице", он активно "заливает" выход энергией. Это делает КМОП-схемы намного быстрее и экономичнее.
### КМОП-схема инвертора: Преимущества
![[Pasted image 20250916120921.png]]
В КМОП-реализации (на "комплементарных" МОП-транзисторах) устранены некоторые недостатки n-МОП-реализации:
1.  Сопротивления на пути токов зарядки и разрядки сравнимы, что обеспечивает симметричные времена нарастания и спада сигнала.
2.  Vлог.0 = 0 В: в состоянии логического "0" выходное напряжение близко к нулю.
3.  Рстат ≈ 0 Вт: в статическом состоянии (когда вход не меняется) ток через схему практически отсутствует, что приводит к очень низкому статическому энергопотреблению.
Давайте разберем эту картинку и преимущества КМОП-схем по порядку, как будто вы только начинаете изучать электронику.

#### **Что изображено на картинке?**

*   **Название:** "б) Пример: сравнение старого и нового способа построения" (продолжение предыдущего слайда).
*   **Схема (а) слева:** Это упрощенное представление "нового" инвертора, о котором мы говорили. Здесь "Устройство, подтягивающее к питанию" показано как некий управляемый переключатель, который подключен к `V_BX` (входу). Это как *умный кран*, который сам знает, когда открыться, а когда закрыться, в зависимости от входного сигнала.
*   **Схема (б) в центре:** Это то, как на самом деле выглядит "Устройство, подтягивающее к питанию" в КМОП-схеме.
    *   Мы видим **два транзистора:**
        *   `M1` – это n-МОП транзистор (тот, что снизу, он соединяет выход с землей, когда `V_BX` высокий).
        *   `M2` – это p-МОП транзистор (тот, что сверху, он соединяет выход с `V_DD` (питанием), когда `V_BX` низкий).
    *   **Важно:** Оба транзистора `M1` и `M2` **подключены к одному и тому же входу `V_BX`**. Они работают "дополняюще" (отсюда и название "КОМПЛЕМЕНТАРНЫЙ МОП" или КМОП): когда один открывается, другой закрывается.
*   **График (б) справа:** Это "передаточная характеристика" инвертора.
    *   **Ось X (`V_BX`):** Входное напряжение (от "0" до `V_DD`).
    *   **Ось Y (`V_ВЫХ`):** Выходное напряжение (от "0" до `V_DD`).
    *   **Что он показывает:**
        *   Когда `V_BX` низкое (близко к 0 В), `V_ВЫХ` высокое (близко к `V_DD`). (Левая верхняя часть кривой). В этот момент `M1` (нижний) **выключен**, а `M2` (верхний) **включен**.
        *   Когда `V_BX` высокое (близко к `V_DD`), `V_ВЫХ` низкое (близко к 0 В). (Правая нижняя часть кривой). В этот момент `M2` (верхний) **выключен**, а `M1` (нижний) **включен**.
        *   Крутой спад в середине – это момент переключения, когда вход изменяется от "0" к "1" и выход переходит от "1" к "0".

---

#### **Теперь объясним преимущества КМОП-схем:**

Раньше мы говорили о недостатках инвертора с резистором. КМОП-схема устраняет эти проблемы благодаря своей "дополнительной" структуре (два транзистора, работающие в противофазе).

1.  **"Сопротивления на пути токов зарядки и разрядки сравнимы, что обеспечивает симметричные времена нарастания и спада сигнала."**
    *   **Простыми словами:** Представьте, что выходной резервуар `C_H` нужно то наполнить доверху, то полностью опустошить.
        *   **Наполнение (выход из "0" в "1"):** Вода поступает через верхний транзистор `M2`.
        *   **Опустошение (выход из "1" в "0"):** Вода сливается через нижний транзистор `M1`.
    *   **Преимущество:** В КМОП мы можем сделать так, чтобы эти два "канала" (`M1` и `M2`) были примерно одинаковыми по "ширине", когда они открыты. Это значит, что **время, за которое выход переходит из "0" в "1", примерно равно времени, за которое он переходит из "1" в "0"**. Схема работает более *сбалансированно* и *предсказуемо*. В старой схеме с резистором `Rc` скорость наполнения и опустошения сильно отличались.

2.  **"Vлог.0 = 0 В: в состоянии логического "0" выходное напряжение близко к нулю."**
    *   **Простыми словами:** Когда вход "1", нижний транзистор `M1` полностью открывается и соединяет выход напрямую с "землей" (нулевым напряжением). Верхний транзистор `M2` при этом полностью закрыт.
    *   **Преимущество:** В идеале, открытый транзистор имеет очень маленькое сопротивление. Это означает, что выходное напряжение будет **почти идеально равно 0 Вольт**. В старой схеме с резистором "ноль" никогда не был идеальным (всегда оставалось небольшое напряжение). КМОП дает "чистый" "ноль".

3.  **"Рстат ≈ 0 Вт: в статическом состоянии (когда вход не меняется) ток через схему практически отсутствует, что приводит к очень низкому статическому энергопотреблению."**
    *   **Простыми словами:** "Статическое состояние" – это когда входной сигнал не меняется (либо он "0", либо он "1").
    *   **Что происходит:**
        *   **Если вход "0":** Верхний транзистор `M2` **открыт**, нижний `M1` **закрыт**. Выход соединен с `V_DD`. **Нет прямого пути** для тока от `V_DD` к земле через оба транзистора.
        *   **Если вход "1":** Верхний транзистор `M2` **закрыт**, нижний `M1` **открыт**. Выход соединен с землей. **Нет прямого пути** для тока от `V_DD` к земле через оба транзистора.
    *   **Преимущество:** Поскольку в любом стабильном состоянии *один из транзисторов всегда полностью закрыт*, он "разрывает" цепь между `V_DD` и землей. Это значит, что **ток практически не течет** через схему, когда она просто "ждет" изменения входа. Это огромное преимущество для экономии энергии (особенно в телефонах, ноутбуках), так как большая часть времени схемы просто "ждут". В старой схеме с резистором ток тек постоянно, когда выход был в "нуле".
**Вывод:** КМОП-схемы намного эффективнее старых схем с резисторами, потому что они потребляют очень мало энергии в стабильном состоянии и могут переключаться быстрее и более сбалансировано.
---

## 3. Структура КМОП-схемы и условия комплементарности
![[Pasted image 20250916121637.png]]
Транзисторы в КМОП-схемах часто включены парами ("КМОП-парами"), где два транзистора соединены затворами и для них выполняются условия комплементарности:
1.  **Тип проводимости:** Транзисторы в КМОП-паре имеют противоположный тип проводимости (один n-МОП, другой p-МОП).
2.  **Пороговые напряжения:** Их пороговые напряжения равны по модулю, но противоположны по знаку: Vпор,n = |Vпор,p|.
3.  **Удельные крутизны:** Значения их удельной крутизны должны быть согласованы: k_pn = |k_pp|.
    *   Где $k = μCox (W/L)$.
    *   При условии $L_n = L_p$, необходимо обеспечить $μ_n W_n = μ_p W_p$, или $μ_n / μ_p = W_p / W_n$. Это означает, что ширина p-МОП транзистора (Wp) обычно делается больше, чем n-МОП (Wn), чтобы компенсировать меньшую подвижность дырок (μp) по сравнению с электронами (μn).
Хорошо, давайте разберем это подробно и понятно.

#### Краткое напоминание: n-МОП и p-МОП транзисторы

Представьте транзистор как **электрический кран**. У него есть три "вывода" или "подключения":
*   **Затвор (Gate):** Это ручка крана, которой мы управляем.
*   **Исток (Source):** Откуда "вода" (электричество) поступает.
*   **Сток (Drain):** Куда "вода" (электричество) вытекает.

**n-МОП транзистор:**
*   Это "кран", который **открывается**, когда мы подаем **высокое напряжение (логическую "1")** на его ручку (затвор).
*   Когда он открыт, он эффективно соединяет свой сток с истоком, пропуская ток.
*   Его исток обычно подключается к "земле" (нулевому напряжению). Поэтому n-МОП транзистор "тянет" выход к земле, когда он открыт.
*   Он проводит ток с помощью **электронов**.

**p-МОП транзистор:**
*   Это "кран", который **открывается**, когда мы подаем **низкое напряжение (логическую "0")** на его ручку (затвор).
*   Когда он открыт, он эффективно соединяет свой сток с истоком, пропуская ток.
*   Его исток обычно подключается к источнику питания (`VDD`, высокому напряжению). Поэтому p-МОП транзистор "тянет" выход к питанию, когда он открыт.
*   Он проводит ток с помощью **дырок** (это как бы "пустоты" в электронах).

---

#### КМОП-пары и условия комплементарности
![[Pasted image 20250916121637.png]]
В КМОП (Комплементарный Металл-Оксид-Полупроводник) инверторе, как мы видели, используются два таких "крана" (`M1` - n-МОП и `M2` - p-МОП), соединенных друг над другом. Их ручки (затворы) соединены вместе и являются входом нашей схемы (`V_BX`).

Условия "комплементарности" (дополняемости) нужны, чтобы эта пара транзисторов работала **слаженно, эффективно и симметрично**.

1.  **Тип проводимости: Транзисторы в КМОП-паре имеют противоположный тип проводимости (один n-МОП, другой p-МОП).**
    *   **Что это значит:** Это фундаментальная идея КМОП. Мы используем один n-МОП транзистор (который открывается от "1" и тянет к земле) и один p-МОП транзистор (который открывается от "0" и тянет к питанию).
    *   **Почему это важно:** Когда на вход подается "1", n-МОП открывается, а p-МОП закрывается. Выход подключается к земле, а от питания отключается. Когда на вход подается "0", n-МОП закрывается, а p-МОП открывается. Выход подключается к питанию, а от земли отключается. **Никогда оба транзистора не должны быть открыты одновременно** (кроме очень короткого момента переключения), чтобы не было сквозного тока от питания к земле. Это позволяет экономить энергию!
	    * Если оба транзистора (n-МОП и p-МОП) будут открыты одновременно (помимо очень короткого момента переключения), то:
			1.  **Сквозной ток:** От `V_DD` к земле образуется прямой путь с низким сопротивлением через оба транзистора.
			2.  **Потеря энергии:** Через этот путь постоянно будет течь большой ток. Это приведет к значительной и бесполезной трате энергии (мощности) в виде тепла.
			3.  **Перегрев и повреждение:** Из-за постоянного высокого тока транзисторы могут перегреться и выйти из строя.
			4.  **Неопределенный выход:** Выходное напряжение будет "плавать" где-то между "0" и `V_DD`, что приведет к неверным логическим уровням для следующих схем.

Кратко: **Если оба открыты, будет короткое замыкание питания на землю через транзисторы, что приведет к огромной потере энергии и возможному выходу схемы из строя.**

2.  **Пороговые напряжения: Их пороговые напряжения равны по модулю, но противоположны по знаку: V_пор,n = |V_пор,p|.**
    *   **Что такое пороговое напряжение (V_пор):** Это то минимальное напряжение на "ручке крана" (затворе), при котором кран только-только начинает приоткрываться и пропускать ток. До этого напряжения он полностью закрыт.
        *   Для n-МОП: V_пор,n обычно положительное (например, +0.7 В).
        *   Для p-МОП: V_пор,p обычно отрицательное (например, -0.7 В).
    *   **"Равны по модулю, но противоположны по знаку":** Это означает, что если n-МОП начинает открываться, когда на затвор подано +0.7 В, то p-МОП должен начинать открываться (или закрываться, если смотреть от VDD) с "силой", эквивалентной -0.7 В. То есть, их "чувствительность" к изменению напряжения на затворе должна быть одинаковой, но в противоположных направлениях.
    *   **Почему это важно:**
        *   **Симметричное переключение:** Это гарантирует, что инвертор переключится ровно посередине между "0" и "1" (например, при 2.5 В для питания 5 В). Это делает схему более "удобной" и предсказуемой.
        *   **Чистые логические уровни:** Если V_BX очень низкое (0 В), p-МОП должен быть *сильно открыт*, а n-МОП *сильно закрыт*. Если V_BX очень высокое (VDD), n-МОП должен быть *сильно открыт*, а p-МОП *сильно закрыт*. Правильно согласованные пороговые напряжения помогают обеспечить, что один транзистор точно включен, а другой точно выключен, минимизируя утечки.

3.  **Удельные крутизны: Значения их удельной крутизны должны быть согласованы: k_pn = |k_pp|.**
    *   **Что такое удельная крутизна (k):** Это параметр, который показывает, **насколько эффективно** транзистор пропускает ток, когда он полностью открыт. Можно представить его как **максимальную "ширину" трубы** (когда кран полностью открыт). Чем больше `k`, тем больше тока может пройти.
    *   **Формула `k = μCox (W/L)`:**
        *   `μ` (мю, подвижность): Это характеристика материала, показывающая, как легко "частицы" (электроны для n-МОП или "дырки" для p-МОП) перемещаются по каналу транзистора. **Электроны (в n-МОП) движутся быстрее, чем дырки (в p-МОП)**. То есть, `μ_n` > `μ_p`.
        *   `Cox` (емкость оксида): Характеристика изолирующего слоя под затвором. Обычно одинакова для обоих транзисторов.
        *   `W` (ширина канала): Физическая ширина транзистора (насколько он "широкий"). Чем шире, тем больше ток.
        *   `L` (длина канала): Физическая длина транзистора. Чем короче, тем больше ток.
    *   **"k_pn = |k_pp|":** Мы хотим, чтобы **эффективность пропускания тока** n-МОП и p-МОП транзисторов была *одинаковой*, когда они открыты. Это значит, что они должны "качать" или "сливать" воду с одинаковой скоростью.
    *   **Почему это важно и почему `W_p` > `W_n`:**
        *   **Симметричная скорость переключения:** Когда инвертор переключается, один транзистор заряжает выходную емкость (тянет к `V_DD`), а другой разряжает ее (тянет к земле). Если их `k` (эффективность) одинаковы, то **время, за которое выход переходит из "0" в "1" (нарастание), будет примерно равно времени, за которое он переходит из "1" в "0" (спад)**. Это очень хорошо для стабильной и предсказуемой работы всей системы.
        *   Поскольку **электроны в n-МОП (μ_n) движутся быстрее, чем дырки в p-МОП (μ_p)**, n-МОП транзистор сам по себе "сильнее" при одинаковых размерах. Чтобы компенсировать эту разницу и сделать p-МОП таким же "сильным", чтобы обеспечить симметрию (одинаковое `k`), **мы должны сделать p-МОП транзистор физически шире (увеличить `W_p`)**, чем n-МОП (`W_n`). Таким образом, `W_p` обычно делают в 2-3 раза больше `W_n` (при одинаковой длине `L`), чтобы `μ_n W_n` было равно `μ_p W_p`.

**Резюмируя:** Условия комплементарности гарантируют, что пара n-МОП и p-МОП транзисторов в КМОП инверторе работает как единый, хорошо сбалансированный механизм, обеспечивая высокую скорость, низкое энергопотребление и чистые логические сигналы.
### Физическая реализация КМОП-схем
![[Pasted image 20250916122539.png]]
*   КМОП-схемы реализуются с использованием как n-канальных, так и p-канальных транзисторов, интегрированных на одной подложке (p-типа).
*   Для n-канальных транзисторов формируются области стока/истока n+ в p-подложке.
*   Для p-канальных транзисторов формируются области стока/истока p+ в n-кармане (n-well), который создается в p-подложке.
*   Затвор формируется из поликремния и изолирован от канала подзатворным оксидом (tox).
Эта картинка показывает, как транзисторы выглядят "внутри" и как они "собираются" на кремниевой пластине для создания КМОП-схем.

**Левая часть картинки: Как устроен один транзистор**
![[Pasted image 20250916122627.png]]
*   **Рисунок (а) в 3D:** Это вид одного n-МОП транзистора сверху и немного сбоку.
    *   **Исток** и **Сток** (n+): Это две сильно легированные (насыщенные примесями) области, которые являются "входом" и "выходом" для электрического тока.
    *   **Затвор:** Это полоска материала (обычно поликремния) над каналом, которая действует как "ручка крана".
    *   **L (длина канала) и W (ширина канала):** Это размеры области под затвором, через которую течет ток. Они очень важны, так как влияют на то, насколько "сильным" будет транзистор.
    *   **t_ox (толщина оксида):** Это очень тонкий изолирующий слой под затвором, который отделяет затвор от кремния.

*   **Рисунок (б) в разрезе:** Это вид того же транзистора "в разрезе". Здесь хорошо видно:
    *   **Подзатворный оксид:** Тот самый тонкий изолирующий слой.
    *   Как затвор расположен над каналом между Истоком и Стоком.

**Правая часть картинки: Как n-МОП и p-МОП транзисторы уживаются на одной пластине (КМОП)**
![[Pasted image 20250916122641.png]]
Здесь показаны поперечные разрезы, демонстрирующие, как создаются n-МОП и p-МОП транзисторы рядом друг с другом на одной кремниевой подложке (основе).

*   **Общая Подложка p-:** Это основная кремниевая пластина, которая обычно имеет p-тип проводимости.
*   **n-канальный транзистор (n-МОП):**
    *   Он строится прямо в p-подложке или в специально созданном **Кармане p** (p-well).
    *   У него есть Истоки и Стоки типа `n+` (сильно легированный n-тип).
    *   Затвор (`З`) и контакт Подложки (`П`) к p-области.
*   **p-канальный транзистор (p-МОП):**
    *   Он не может быть построен прямо на p-подложке, поэтому для него сначала создается специальная изолированная область – **Карман n** (n-well).
    *   У него есть Истоки и Стоки типа `p+` (сильно легированный p-тип).
    *   Затвор (`З`) и контакт Кармана (`С`) к n-области.
*   **Рисунки (а), (б), (в):** Они показывают разные стадии или варианты интеграции.
    *   (а) - простые отдельные транзисторы.
    *   (б) - транзисторы с "карманами" (wells) для изоляции.
    *   (в) - это наиболее полная схема, показывающая, как и n-МОП, и p-МОП транзисторы (из КМОП-пары) размещаются на одной p-подложке, используя **n-карман** для p-МОП и **p-карман** (если нужно) для n-МОП для лучшей изоляции или специфических целей.

**Кратко:** Картинка показывает "анатомию" транзистора в 3D и разрезе, а затем демонстрирует, как два разных типа транзисторов (n-МОП и p-МОП), которые нужны для КМОП-схем, изготавливаются рядом друг с другом на одной кремниевой микросхеме, используя специальные области (карманы) для их изоляции.

---

## 4. Анализ статических и динамических характеристик КМОП-схем

### Анализ статических характеристик КМОП-схемы
#### Анализ по участкам: Передаточная характеристика КМОП-инвертора имеет пять областей, соответствующих различным режимам работы n-МОП и p-МОП транзисторов (отсечка, линейный, насыщение).
![[Pasted image 20250916122759.png]]
Эта картинка показывает, как работает КМОП-инвертор "в деталях", разбивая его работу на несколько этапов. У нас есть два графика:

1.  **Верхний график:** Показывает, как изменяется **выходное напряжение (V_ВЫХ)** в зависимости от **входного напряжения (V_BX)**. Это называется **передаточной характеристикой**. Идеальный инвертор должен переключаться мгновенно.
2.  **Нижний график:** Показывает, сколько **тока потребляет схема (I_потр)** в зависимости от **входного напряжения (V_BX)**.

Напомню: КМОП-инвертор состоит из двух транзисторов – `M1` (n-МОП) снизу и `M2` (p-МОП) сверху. Их затворы (ручки) соединены вместе и являются входом `V_BX`.

Давайте разберем каждый из 5 участков работы:

---

##### Верхний график: Выходное напряжение (V_ВЫХ) против Входного напряжения (V_BX)
![[Pasted image 20250916122959.png]]
*   `E` – это напряжение питания (равно `V_DD`).
*   `V_ton` – это пороговое напряжение n-МОП транзистора `M1`. Ниже этого напряжения `M1` закрыт.
*   `E - |V_top|` – это пороговое напряжение p-МОП транзистора `M2`. Выше этого напряжения `M2` закрыт (точнее, когда напряжение между затвором и истоком `M2` становится меньше его порогового напряжения).

**Участок 1: `V_BX` очень низкое (от 0 до `V_ton`)**
*   **Что происходит:** `M1` (n-МОП) **закрыт** (потому что входное напряжение ниже его порога). `M2` (p-МОП) **полностью открыт** (он хорошо проводит ток, так как на его затворе низкое напряжение).
*   **Результат:** Выход `V_ВЫХ` оказывается напрямую подключен к `E` (питанию) через открытый `M2`. Поэтому `V_ВЫХ` ≈ `E` (логическая "1").

**Участок 2: `V_BX` начинает немного расти (от `V_ton` до `E/2`)**
*   **Что происходит:** `M1` (n-МОП) **начинает открываться** (он переходит в "область насыщения", где ток зависит от входного напряжения). `M2` (p-МОП) **все еще открыт** (в "пологой области" или линейной), но начинает потихоньку "призакрываться" по мере роста `V_BX`.
*   **Результат:** Выход `V_ВЫХ` начинает **плавно снижаться**, поскольку `M1` начинает "тянуть" его к земле, конкурируя с `M2`, который "тянет" к питанию.

**Участок 3: `V_BX` примерно посередине (`E/2`)**
*   **Что происходит:** Это ключевой момент переключения. Оба транзистора (`M1` и `M2`) **открыты и находятся в "области насыщения"** (они активно проводят ток, но их ток ограничен).
*   **Результат:** `V_ВЫХ` резко **падает** с высокого уровня на низкий. Это самый крутой участок кривой, показывающий быстрое переключение инвертора.

**Участок 4: `V_BX` продолжает расти (от `E/2` до `E - |V_top|`)**
*   **Что происходит:** `M1` (n-МОП) **уже хорошо открыт** (в "пологой области" или линейной). `M2` (p-МОП) **начинает призакрываться** (переходит в "область насыщения").
*   **Результат:** Выход `V_ВЫХ` продолжает **плавно снижаться** и приближаться к "0".

**Участок 5: `V_BX` очень высокое (от `E - |V_top|` до `E`)**
*   **Что происходит:** `M1` (n-МОП) **полностью открыт** (хорошо проводит ток). `M2` (p-МОП) **закрыт** (потому что входное напряжение стало слишком высоким для него).
*   **Результат:** Выход `V_ВЫХ` оказывается напрямую подключен к земле через открытый `M1`. Поэтому `V_ВЫХ` ≈ `0` (логический "0").

---

##### Нижний график: Потребляемый ток (I_потр) против Входного напряжения (V_BX)
![[Pasted image 20250916123010.png]]
Этот график показывает, сколько энергии тратится схемой.

**Участок 1 и 5 (стабильные состояния):**
*   **Что происходит:** Как мы видели, в этих участках один транзистор **полностью открыт**, а другой **полностью закрыт**. Между `E` (питанием) и землей нет прямого пути, по которому мог бы течь ток.
*   **Результат:** Потребляемый ток `I_потр` **очень низкий (почти ноль)**. Это главное преимущество КМОП-схем: в стабильных состояниях они почти не потребляют энергию!

**Участок 2 и 4 (переходные состояния):**
*   **Что происходит:** Оба транзистора (`M1` и `M2`) находятся в полуоткрытом состоянии – они оба пропускают некоторый ток. Таким образом, появляется **сквозной ток** от `E` (питания) к земле через оба транзистора.
*   **Результат:** Потребляемый ток `I_потр` начинает **расти** (на Участке 2) или **падать** (на Участке 4).

**Участок 3 (точка переключения):**
*   **Что происходит:** Это момент, когда оба транзистора **активно открыты** (хотя и в насыщении), и через них протекает максимальный сквозной ток от `E` к земле.
*   **Результат:** Потребляемый ток `I_потр` достигает своего **пика**. Это показывает, что КМОП-схемы потребляют наибольшую мощность не в стабильных состояниях, а именно **во время переключения**.

---

**Общий вывод по картинке:**

Эта картинка ясно демонстрирует, что КМОП-инвертор является очень эффективным:
*   Он обеспечивает **четкие и чистые логические уровни** ("0" или "E") на выходе (верхний график).
*   Он потребляет **минимальное количество энергии**, когда находится в стабильном состоянии ("0" или "1" на выходе). Большой пик потребления тока возникает только на короткий момент **во время переключения** (нижний график), когда оба транзистора одновременно немного открыты.
#### **Качественный анализ:** Визуально показывает, как изменяется выходное напряжение в зависимости от входного.
![[Pasted image 20250916123312.png]]
Эта картинка представляет собой "качественный анализ" работы КМОП-инвертора, показывая, как меняется "сопротивление" n-МОП и p-МОП транзисторов при изменении входного напряжения. Это визуализация того, как эти "краны" открываются и закрываются.

**Основные элементы:**
*   `V_пит`: Напряжение питания (самое высокое напряжение, "1").
*   `p`: Представляет p-МОП транзистор (`M2`). Он подключен к `V_пит`.
*   `n`: Представляет n-МОП транзистор (`M1`). Он подключен к земле.
*   `V_BX`: Входное напряжение (от "0" до `V_пит`).
*   **Прямоугольники:** Изображают сопротивление транзисторов.
    *   **Широкий прямоугольник:** Означает **низкое сопротивление** (транзистор сильно открыт, хорошо проводит ток).
    *   **Узкий (или почти отсутствующий) прямоугольник:** Означает **высокое сопротивление** (транзистор почти или полностью закрыт, плохо проводит ток).
*   **Стрелка `V_BX`:** Показывает, как изменяется входное напряжение слева направо.
    *   `V_лог0`: Напряжение, которое еще считается логическим "0".
    *   `E/2`: Напряжение, равное половине питания, обычно точка переключения.
    *   `V_лог1`: Напряжение, которое уже считается логической "1".

---

**Разберем колонки (состояния инвертора) по мере изменения входного напряжения `V_BX`:**
![[Pasted image 20250916123312.png]]
**1. Крайняя левая колонка: `V_BX` очень низкое (логический "0")**
*   **p-транзистор (сверху):** **Широкий прямоугольник**. Это означает, что p-МОП транзистор `M2` **открыт и имеет очень низкое сопротивление**. Он хорошо проводит ток от `V_пит` к выходу.
*   **n-транзистор (снизу):** **Узкий прямоугольник**. Это означает, что n-МОП транзистор `M1` **закрыт и имеет очень высокое сопротивление**. Он не проводит ток от выхода к земле.
*   **Результат:** Выход инвертора (точка между p и n транзисторами) будет **тянуться к `V_пит`** через открытый p-транзистор. Выход = логическая "1".

**2. Вторая колонка слева: `V_BX` начинает расти**
*   **p-транзистор:** Прямоугольник **немного сужается**. p-МОП транзистор `M2` начинает *слегка прикрываться*, его сопротивление немного растет.
*   **n-транзистор:** Прямоугольник **немного расширяется**. n-МОП транзистор `M1` начинает *слегка приоткрываться*, его сопротивление немного падает.
*   **Результат:** Выходное напряжение начинает *немного снижаться*, но все еще близко к "1".

**3. Средняя колонка: `V_BX` около `E/2` (точки переключения)**
*   **p-транзистор:** Прямоугольник **средней ширины**. p-МОП транзистор `M2` полуоткрыт.
*   **n-транзистор:** Прямоугольник **средней ширины**. n-МОП транзистор `M1` также полуоткрыт.
*   **Результат:** Это момент, когда оба транзистора активно проводят ток. Выходное напряжение **резко падает** от "1" к "0". Это также момент **максимального сквозного тока** (и максимального потребления энергии), как мы видели на нижнем графике предыдущего слайда.

**4. Вторая колонка справа: `V_BX` продолжает расти**
*   **p-транзистор:** Прямоугольник **сильно сужается**. p-МОП транзистор `M2` почти закрыт, его сопротивление сильно растет.
*   **n-транзистор:** Прямоугольник **расширяется**. n-МОП транзистор `M1` хорошо открыт, его сопротивление падает.
*   **Результат:** Выходное напряжение продолжает *снижаться* и приближается к "0".

**5. Крайняя правая колонка: `V_BX` очень высокое (логическая "1")**
*   **p-транзистор (сверху):** **Очень узкий (или отсутствующий) прямоугольник**. Это означает, что p-МОП транзистор `M2` **полностью закрыт и имеет очень высокое сопротивление**. Он не проводит ток от `V_пит` к выходу.
*   **n-транзистор (снизу):** **Широкий прямоугольник**. Это означает, что n-МОП транзистор `M1` **открыт и имеет очень низкое сопротивление**. Он хорошо проводит ток от выхода к земле.
*   **Результат:** Выход инвертора **тянется к земле** через открытый n-транзистор. Выход = логический "0".

---

**Кратко:**
Эта картинка визуализирует, как КМОП-инвертор работает как управляемый делитель напряжения. Когда вход низкий, p-МОП транзистор "открывается широко", а n-МОП "закрывается плотно", выдавая "1" на выходе. Когда вход высокий, n-МОП "открывается широко", а p-МОП "закрывается плотно", выдавая "0" на выходе. В момент переключения оба транзистора немного открыты, их сопротивления сравнимы, и происходит активное переключение выходного уровня.
#### **Типичные R_вкл:** Сопротивление открытого канала (R_on) n-МОП транзистора обычно ниже, чем у p-МОП, для одинаковых размеров.
*   **КМОП-схемы практически не потребляют энергию в статических состояниях.**
Давайте разберем эту картинку и объяснение максимально просто, как будто вы смотрите на две разные "электрические дороги".

##### Что такое `R_вкл` (R_on)?

Представьте, что транзистор — это дорога. Когда транзистор "включен" (открыт, пропускает ток), он становится этой дорогой.
*   **`R_вкл` (R_on)** — это "сопротивление дороги".
    *   **Низкое `R_вкл`:** Дорога **широкая и гладкая**. Машины (электричество) едут **быстро и легко**. Это хорошо, значит транзистор эффективно пропускает ток.
    *   **Высокое `R_вкл`:** Дорога **узкая и ухабистая**. Машины едут **медленно и с трудом**. Это плохо, значит транзистор плохо пропускает ток.

##### Что показывает график?

*   **Горизонтальная ось (V_BX):** Это "управляющее напряжение", которое мы подаем на "ручку крана" (затвор) транзистора. Оно идет от "0" до "VDD" (напряжения питания).
*   **Вертикальная ось (R_ON (Ω)):** Это как раз то самое "сопротивление включенного транзистора" в Омах (единица измерения сопротивления).

На графике две кривые:
1.  **"n-МОПТ" (n-МОП транзистор):** Это транзистор, который хорошо открывается, когда `V_BX` **высокое**.
2.  **"p-МОПТ" (p-МОП транзистор):** Это транзистор, который хорошо открывается, когда `V_BX` **низкое**.

##### Объяснение кривых:

*   **Кривая n-МОПТ:**
    *   Когда `V_BX` низкое (слева на графике), кривая n-МОПТ показывает **очень высокое сопротивление** (уходит вверх). Это значит, что n-МОП транзистор **закрыт**.
    *   Когда `V_BX` становится высоким (справа на графике), кривая n-МОПТ показывает **очень низкое сопротивление** (опускается вниз). Это значит, что n-МОП транзистор **открыт и хорошо пропускает ток**.

*   **Кривая p-МОПТ:**
    *   Когда `V_BX` высокое (справа на графике), кривая p-МОПТ показывает **очень высокое сопротивление** (уходит вверх). Это значит, что p-МОП транзистор **закрыт**.
    *   Когда `V_BX` становится низким (слева на графике), кривая p-МОПТ показывает **очень низкое сопротивление** (опускается вниз). Это значит, что p-МОП транзистор **открыт и хорошо пропускает ток**.

##### Почему "Сопротивление открытого канала (R_on) n-МОП транзистора обычно ниже, чем у p-МОП, для одинаковых размеров"?

Посмотрите на самые низкие точки обеих кривых (где они максимально открыты и имеют минимальное сопротивление):

*   Минимальное `R_ON` для **n-МОПТ** (самая низкая точка левой кривой) **ниже**, чем минимальное `R_ON` для **p-МОПТ** (самая низкая точка правой кривой).

**Простыми словами, почему так:**

Электрический ток в транзисторах передается с помощью "переносчиков заряда":
*   В **n-МОПТ** это **электроны**.
*   В **p-МОПТ** это "дырки" (представьте их как "пузырьки" в жидкости, которые движутся в противоположном направлении электронам).

**Электроны движутся по кремнию быстрее и эффективнее, чем дырки.**

Поэтому, если вы возьмете n-МОП и p-МОП транзисторы **одинакового физического размера** (одинаковой "ширины" и "длины" дорожки), n-МОП транзистор будет всегда "лучшей дорогой" – его сопротивление в открытом состоянии (`R_on`) будет ниже, потому что по нему "машины" (электроны) едут быстрее.

##### Почему это важно для КМОП?

В КМОП-инверторе n-МОП транзистор "тянет" выход к земле, а p-МОП транзистор "тянет" выход к питанию.
*   Мы хотим, чтобы оба "тянули" с примерно **одинаковой силой и скоростью**.
*   Но поскольку p-МОП по своей природе "слабее" (имеет более высокое `R_on` при том же размере), чтобы его "усилить" и сделать равным n-МОП, инженеры делают **p-МОП транзистор физически шире** (как будто делают его "дорогу" шире).
*   Это позволяет скомпенсировать медленное движение "дырок" и получить **сбалансированную работу инвертора** – чтобы он переключался из "0" в "1" и из "1" в "0" примерно за одно и то же время.
### Работа КМОП-схемы в динамическом режиме
*   **Динамическое потребление мощности:** Основное потребление мощности в КМОП-схемах происходит во время переключения состояний, когда заряжаются и разряжаются паразитные ёмкости.
*   **Суммарная мощность потребления в динамическом режиме:**
    P_потр,дин = (1/2) * C_Н * V^2_DD * f_BX
    Где:
    *   C_Н – суммарная нагрузочная ёмкость.
    *   V_DD – напряжение питания.
    *   f_BX – частота переключения входного сигнала.

### Способ определения реалистических значений динамических параметров
*   Динамические параметры, такие как времена задержки (t_задержки), определяются путем измерения времени, необходимого для изменения выходного сигнала от 10% до 90% (или наоборот) от полного размаха, относительно входного сигнала.
*   Расчет средней мощности: Р_д ≈ C_н * E_пит^2 * f_п

---

## 5. Идея реализации произвольной комбинационной КМОП-схемы

*   Произвольная комбинационная КМОП-схема состоит из двух частей:
    *   **PU (Pull-Up) сеть:** Подтягивает выход к питанию (VDD), когда комбинация входов соответствует логической "1". Реализуется с помощью p-МОП транзисторов.
    *   **PD (Pull-Down) сеть:** Подтягивает выход к земле (0 В), когда комбинация входов соответствует логическому "0". Реализуется с помощью n-МОП транзисторов.
*   Только одна из сетей должна быть активна в любой момент времени (либо PU, либо PD), чтобы избежать сквозного тока от VDD к земле.

### Примеры цепей, подтягивающих к земле (PD-сети, n-МОП)
*   **Y = A + B** (параллельное соединение n-МОП транзисторов): Если A=1 ИЛИ B=1, выход Y=0.
*   **Y = A·B** (последовательное соединение n-МОП транзисторов): Если A=1 И B=1, выход Y=0.
*   **Y = A + B·C** (комбинация параллельного и последовательного): Если A=1 ИЛИ (B=1 И C=1), выход Y=0.

### Примеры цепей, подтягивающих к питанию (PU-сети, p-МОП)
*   **Y = A·B** (параллельное соединение p-МОП транзисторов, реализует функцию ИЛИ-НЕ, т.е. Y = A+B): Если A=0 ИЛИ B=0, выход Y=1.
*   **Y = A+B** (последовательное соединение p-МОП транзисторов, реализует функцию И-НЕ, т.е. Y = A·B): Если A=0 И B=0, выход Y=1.
*   **Y = A·(B+C)** (комбинация последовательного и параллельного): Если A=0 И (B=0 ИЛИ C=0), выход Y=1.

### Пример итоговой схемы для реализации функции 2ИЛИ-НЕ (NOR Gate)
*   **Функция:** Y = A+B
*   **PU-сеть (p-МОП):** Два p-МОП транзистора соединены последовательно. Y=1, если A=0 И B=0.
*   **PD-сеть (n-МОП):** Два n-МОП транзистора соединены параллельно. Y=0, если A=1 ИЛИ B=1.
*   **Таблица истинности 2-входового NOR-вентиля:**
    | A | B | Out |
    |---|---|-----|
    | 0 | 0 | 1   |
    | 0 | 1 | 0   |
    | 1 | 0 | 0   |
    | 1 | 1 | 0   |

### Пример итоговой схемы для реализации функции 2И-НЕ (NAND Gate)
*   **Функция:** Y = A·B
*   **PU-сеть (p-МОП):** Два p-МОП транзистора соединены параллельно. Y=1, если A=0 ИЛИ B=0.
*   **PD-сеть (n-МОП):** Два n-МОП транзистора соединены последовательно. Y=0, если A=1 И B=1.
*   **Таблица истинности 2-входового NAND-вентиля:**
    | A | B | Out |
    |---|---|-----|
    | 0 | 0 | 1   |
    | 0 | 1 | 1   |
    | 1 | 0 | 1   |
    | 1 | 1 | 0   |

### Итоговые схемы для реализации комбинационных функций
Представлены примеры КМОП-схем для более сложных функций, таких как:
*   Y = A + B
*   Y = A·B
*   Y = A + B·C

---

## 6. Примеры КМОП-схем

### Пример 1: КМОП-схема
**Вопросы:**
1) правильно ли составлена электрическая схема;
2) если нет, то почему;
3) если да, то какую функцию она выполняет.

**Ответ:**
Y = A·(B + C·D)

### Пример 2: КМОП-схема
**Вопросы:**
1) правильно ли составлена электрическая схема;
2) если нет, то почему;
3) если да, то какую функцию она выполняет.

**Ответ:**
Y = A ⊕ B = A·B + A·B (Исключающее ИЛИ)

---