#### **Содержание лекции:**

1.  Элементы статической памяти (на основе триггеров)
2.  Элементы динамической памяти

### 1. RS-триггер (RS Latch / RS Flip-Flop)

**Название:** RS расшифровывается как **Set-Reset** (Установка-Сброс).

**Назначение:** RS-триггер — это самый простой вид триггера, способный хранить один бит информации. Он является асинхронным, то есть его состояние меняется немедленно при изменении входных сигналов.

**Входы и выходы:**
*   **S (Set - Установка):** Вход для установки выхода Q в "1".
*   **R (Reset - Сброс):** Вход для сброса выхода Q в "0".
*   **Q:** Прямой выход.
*   **Q̅ (Q-инверсный):** Инверсный выход (всегда противоположен Q, если триггер работает корректно).

**Принцип работы (таблица истинности):**

| S   | R   | Q (следующее состояние) | Q̅ (следующее состояние) | Описание                                 |
| :-- | :-- | :---------------------- | :---------------------- | :--------------------------------------- |
| 0   | 0   | Q (предыдущее)          | Q̅ (предыдущее)         | **Хранение** (No Change): Состояние не меняется. |
| 0   | 1   | 0                       | 1                       | **Сброс (Reset):** Выход Q становится "0".  |
| 1   | 0   | 1                       | 0                       | **Установка (Set):** Выход Q становится "1".   |
| 1   | 1   | ? (неопределенное)      | ? (неопределенное)      | **Запрещенное состояние:** Оба выхода стремятся к "0" или "1" (зависит от схемотехники), что приводит к конфликту (Q и Q̅ не противоположны) и непредсказуемому поведению при переходе обратно к (0,0). Это состояние следует избегать. |

**Особенности:**
*   Прост в реализации (можно построить на двух элементах NOR или NAND).
*   Имеет "запрещенное" или "неопределенное" состояние, что является его основным недостатком.
*   В основном используется в простых схемах или как базовый строительный блок для более сложных триггеров.

**Применение:**
*   Простые схемы памяти.
*   Устранение дребезга контактов в кнопках.
*   Как часть более сложных триггеров.

---

### 2. D-триггер (D Flip-Flop)

**Название:** D расшифровывается как **Data** (Данные).

**Назначение:** D-триггер предназначен для надежного хранения одного бита данных. Его ключевая особенность — синхронная работа, то есть он меняет свое состояние только по фронту (переднему или заднему) тактового сигнала (clock). Это делает его очень важным для построения синхронных цифровых систем.

**Входы и выходы:**
*   **D (Data - Данные):** Вход для данных, которые будут сохранены.
*   **CLK (Clock - Тактовый сигнал):** Синхронизирующий вход.
*   **Q:** Прямой выход.
*   **Q̅ (Q-инверсный):** Инверсный выход.

**Принцип работы (таблица истинности для тактируемого D-триггера, срабатывающего по переднему фронту):**

| CLK         | D   | Q (следующее состояние) | Q̅ (следующее состояние) | Описание                                       |
| :---------- | :-- | :---------------------- | :---------------------- | :--------------------------------------------- |
| Высокий или Низкий | 0   | Q (предыдущее)          | Q̅ (предыдущее)         | **Хранение:** Если нет фронта, состояние не меняется. |
| Высокий или Низкий | 1   | Q (предыдущее)          | Q̅ (предыдущее)         | **Хранение:** Если нет фронта, состояние не меняется. |
| **↑ (передний фронт)** | 0   | 0                       | 1                       | **Сброс:** Выход Q принимает значение D ("0").   |
| **↑ (передний фронт)** | 1   | 1                       | 0                       | **Установка:** Выход Q принимает значение D ("1").   |

**Особенности:**
*   **Устраняет "запрещенное состояние"** RS-триггера, так как имеет только один вход для данных.
*   **Синхронный:** Состояние меняется только в определенный момент времени, заданный тактовым сигналом, что обеспечивает стабильность и предсказуемость в сложных схемах.
*   Очень распространен в цифровых системах.

**Применение:**
*   **Регистры:** Для хранения нескольких битов данных (например, 8-битный регистр для хранения байта).
*   **Счетчики:** Как базовые элементы в схемах подсчета.
*   **Сдвиговые регистры:** Для последовательной передачи данных.
*   Буферы памяти.
*   Защелки для входов/выходов микроконтроллеров и процессоров.

---

### Основные отличия RS-триггера от D-триггера:

1.  **Входы:**
    *   **RS-триггер:** Два управляющих входа (S и R).
    *   **D-триггер:** Один вход данных (D) и один тактовый вход (CLK).
2.  **Синхронность:**
    *   **RS-триггер:** Обычно асинхронный (защелка), реагирует немедленно на изменение входов. Существуют синхронные RS-триггеры с дополнительным входом разрешения, но чаще говорят об асинхронном.
    *   **D-триггер:** Синхронный, меняет состояние только по фронту тактового сигнала.
3.  **Неопределенное/Запрещенное состояние:**
    *   **RS-триггер:** Имеет запрещенное состояние (S=1, R=1), которого следует избегать.
    *   **D-триггер:** Не имеет такого состояния; всегда предсказуемо сохраняет значение входа D.
4.  **Применение:**
    *   **RS-триггер:** Простые схемы, устранение дребезга.
    *   **D-триггер:** Основной элемент для построения регистров, счетчиков, памяти в синхронных цифровых схемах. D-триггер гораздо более универсален и широко используется в современной цифровой электронике.
#### **Часть 1. Триггеры (КМОП-реализация)**

##### **Симметричные триггеры**

###### **Определение триггера:**
*   Базовый элемент ОЗУ ЭВМ, устройств автоматики и др.
*   Как правило, имеет 1 или 2 информационных входа и 2 выхода: прямой Q и инверсный Q̄.
*   Содержит комбинационные схемы с обратными связями.
*   Следующее состояние зависит от предыдущего состояния и входов.
*   При наличии электропитания способен бесконечно долго поддерживать своё состояние.

###### **Бистабильная ячейка (или защёлка):**
*   Состоит из двух инвертирующих элементов, соединённых "спина к спине", т.е. выход одного подключён ко входу другого и наоборот.
*   Имеет стабильное и нестабильное состояния:
    *   **Два крайних стабильных состояния:** где статические передаточные функции пересекаются в точках V¹вых и V²вых.
    *   **Нестабильное состояние:** где передаточные функции пересекаются вблизи порога переключения.
*   В реальных физических схемах никогда не будет находиться в нестабильной точке, т.к. любое небольшое изменение Vвх приведет к её смещению в ту или иную сторону.
*   При численном моделировании (в SPICE) схема может оставаться в нестабильном состоянии при условии отсутствия источника шума.
*   **КМОП-реализация:** Представлена схемой на КМОП-инверторах.
![[Pasted image 20250930114202.png]]
###### **RS-триггер: КМОП-реализация на элементах ИЛИ-НЕ**
*   Содержит бистабильную ячейку с двумя дополнительными входами S и R для установления режима ячейки.
*   **Условное графическое обозначение (УГО):** Показано с входами S, R, T и выходами Q, Q̄.
*   **Логическая схема:** Два двухвходовых элемента ИЛИ-НЕ, выходы которых перекрестно соединены с входами.
*   **Таблица истинности:**
    *   S=0, R=0: Qn+1 = Qn, Q̄n+1 = Q̄n (hold – хранение)
    *   S=1, R=0: Qn+1 = 1, Q̄n+1 = 0 (set – установка)
    *   S=0, R=1: Qn+1 = 0, Q̄n+1 = 1 (reset – сброс)
    *   S=1, R=1: Qn+1 = 0, Q̄n+1 = 0 (not allowed – запрещено)
*   **КМОП-реализация:** Схема на n- и p-МОПТ транзисторах.
![[Pasted image 20250930114354.png]]
###### **RS-триггер: КМОП-реализация на элементах И-НЕ**
*   **Логическая схема:** Два двухвходовых элемента И-НЕ, выходы которых перекрестно соединены с входами.
*   **Таблица истинности (инверсная логика):**
    *   S=0, R=0: Qn+1 = 1, Q̄n+1 = 1 (not allowed – запрещено)
    *   S=0, R=1: Qn+1 = 1, Q̄n+1 = 0 (set – установка)
    *   S=1, R=0: Qn+1 = 0, Q̄n+1 = 1 (reset – сброс)
    *   S=1, R=1: Qn+1 = Qn, Q̄n+1 = Q̄n (hold – хранение)
*   **КМОП-реализация:** Схема на n- и p-МОПТ транзисторах.
![[Pasted image 20250930114452.png]]
###### **Синхронный RS-триггер: на элементах ИЛИ-НЕ**
*   **УГО:** Добавлен тактовый вход (CLK) и вход управления (C).
*   **Логическая схема на ИЛИ-НЕ:** Дополнительные элементы И-НЕ на входах S и R, управляемые тактовым сигналом CK.
*   **Временная диаграмма:** Показывает зависимость выходов Q от входов S, R и тактового сигнала CK.
*   **КМОП-реализация на элементах И-ИЛИ-НЕ (AOI):**
    *   Управляющие сигналы проходят на бистабильную ячейку только при CK = V¹лог (тогда схема сводится к ИЛИ-НЕ).
![[Pasted image 20250930115643.png]]
###### **Синхронный RS-триггер: на элементах И-НЕ**
*   **Логическая схема:** Схема с дополнительными элементами ИЛИ-НЕ на входах S и R, управляемыми тактовым сигналом CK.
*   **Требуется:** 16 транзисторов.
![[Pasted image 20250930115703.png]]
###### **Реализация D-триггера с передаточным вентилем**
*   **Логическая схема на ИЛИ-НЕ:** Показана с входом D, тактовым входом CK и выходами Q, Q̄.
*   **Передаточный вентиль:**
    *   Используется для подключения к шинам.
    *   Реализуется только в интегральной технологии (не на дискретных МОПТ).
    *   Способен пропускать сигнал в любом направлении.
    *   Выводы C/И подключаются вместе.
    *   Выводы П должны быть подключены так: n → ⊥Gnd, p → ┬Vdd.
    *   **Принцип работы:**
        *   СК = V¹лог → оба МОПТ открыты.
        *   СК = V⁰лог → оба закрыты (разрыв).
*   **КМОП-реализация с передаточным вентилем:**
    *   **Сигнал со входа D проходит при CK=1.**
    *   **Сигнал обратной связи проходит при CK=0.**
    *   Приведена временная диаграмма с tsetup и thold.
![[Pasted image 20250930115719.png]]
###### **Упрощённая топология D-триггера**
*   **1-тактный D-триггер:** Приведена логическая схема и топология.
*   **2-тактный D-триггер:** Приведена логическая схема и топология.

---

#### **Часть 2. Триггеры (реализация на биполярных транзисторах)**

*(На основе материала проф., д.т.н. К. О. Петросянца)*

##### **Симметричный триггер на БТ (Биполярных транзисторах)**
*   К базам транзисторов Т₁ и Т₂ подключается цепь независимого смещения, состоящая из отрицательного источника –ЕБ и резисторов R₂.
*   **1-е состояние:** Т₁ открыт и насыщен, Т₂ надёжно закрыт за счёт отрицательного источника ЭДС –ЕБ в цепи базы.
    *   С выхода Q̄ - коллектора Т₁ снимается Q̄ = 0, а с выхода Q - коллектора Т₂ снимается Q = 1.
*   **2-е состояние:** Противоположное.
*   **Условия 2 устойчивых состояний:**
    *   Надёжное запирание транзистора Т₂ обеспечивается, если UБ₂ < 0 → Iк₀R₂ < |ЕБ|.
    *   Надёжное насыщение транзистора Т₁ обеспечивается, если IБ₁ > IБН, где IБН = Епит/βRк – ток базы насыщения.
*   **"Хорошие" логические уровни:**
    *   U⁰лог = Uкэ нас = 0,1 – 0,3 В.
    *   U¹лог = Епит * R₁ / (R₁ + Rк) ≈ (0,8 – 0,9) Епит.
*   **Высокая надёжность работы** при воздействии температуры, радиации и др. факторов.

##### **Схемные варианты симметричного триггера**
*   **Устраняют недостатки ТГ с независимым смещением:**
    1.  Наличие дополнительного источника ЭДС, ЕБ.
    2.  Большое количество элементов, в частности, резисторов.
    3.  Большая мощность, потребляемая от источников питания и рассеиваемая на резисторах.

##### **1. Триггер без смещения**
*   **Устранён основной недостаток предыдущей схемы:** наличие цепи смещения: резисторы R₂ и источник –ЕБ исключены из схемы.
*   **Логические уровни достаточно "хорошие":**
    *   U⁰лог = Uкэ нас = 0,1 – 0,3 В.
    *   U¹лог = Епит – (Епит – Uбэ пр + Iк₀)Rк / (R₁ + Rк).
*   **Недостаток:** Запас помехоустойчивости по сравнению с предыдущей схемой со смещением заметно ниже.
*   Данная схема ТГ в интегральном исполнении реализуется редко.

##### **2. Триггер с непосредственными связями**
*   **Обычно:** Епит = 1,5 ÷ 3 В.
*   **Недостаток:** Величина логического перепада сильно ниже по сравнению с предыдущими вариантами ТГ:
    *   U⁰лог = Uкэ нас = 0,1 – 0,3 В.
    *   U¹лог = Uбэ пр = 0,7 В.
    *   ΔUлог = U¹лог – U⁰лог = 0,4 – 0,6 В.
*   **Недостаток:** Транзистор Т₂ "полузакрыт". На его базу подается Uкэ н₁ = 0,1 – 0,3 В с выхода – коллектора Т₁. Это недостаток схемы, т.к. небольшой сигнал ΔUпом = 0,2 – 0,4 В может вызвать несанкционированное отпирание Т₂.
*   **Преимущества:**
    *   Схема предельно проста, занимает меньшую площадь на п/п кристалле, рассеивает малую мощность и хорошо реализуется в интегральном исполнении на п/п кристалле.
*   **Недостатки:**
    *   Малая помехоустойчивость.
    *   Выходные уровни U⁰лог и U¹лог сильно зависят от температуры и других дестабилизирующих факторов.

##### **3. Интегральный триггер с нагрузочными p-n-p-транзисторами**
*   **Преимущества:**
    *   Обеспечивает сверхмалое потребление энергии от источника питания.
    *   Существенную экономию площади кристалла за счёт замены резисторов Rк в предыдущей схеме на нагрузочные p-n-p-транзисторы Т₃ и Т₄.
*   **Логические уровни данной схемы:** Такие же, как в схеме ТГ с непосредственными связями:
    *   U⁰лог = Uкэ нас = 0,1 – 0,3 В.
    *   U¹лог = Uбэ пр = 0,7 В.
*   **Напряжение питания:** Выбирается в пределах Епит = 1,2 – 1,5 В.

##### **4. Симметричный RS-триггер на n-МОПТ**
*   Схема ТГ состоит из двух n-МОПТ ключей с нелинейной нагрузкой, соединенных перекрестными обратными связями.
*   Транзисторы Т₁ – Т₄ образуют внутреннюю ячейку памяти, в которой хранятся логические уровни U¹лог (выход Q) и U⁰лог (выход Q̄).
*   Т₅ и Т₆ – входные транзисторы, которые помимо передачи уровней U¹лог и U⁰лог выполняют защитную функцию, предохраняя внутреннюю ячейку от несанкционированного доступа помех, наводок и др. посторонних сигналов.
*   **Логические уровни у RS-триггера на n-МОПТ "хорошие":**
    *   U⁰лог ≈ 0.
    *   U¹лог = (Епит – Uпор) / (1 + η) < Епит.

---

#### **Часть 3. Статическая память (SRAM)**

##### **Место статической памяти (SRAM)**
*   **Применение:** Основа регистров, счётчиков, буферов, кэш-памяти и т.п.
*   Занимает большую часть кристалла микропроцессора.
*   Хранит состояние сколько угодно долго при наличии питания.
*   Примеры микропроцессоров с указанием используемой технологии (Netburst, McKinley, Madison, Sandy Bridge, Bonnell, POWER6, Alpha 21364).

##### **Общая структура ячейки статической памяти**
*   **Элемент для хранения 1 бита информации** в составе блока памяти представляет собой бистабильную ячейку с дополнительными транзисторами для записи / считывания.
*   Ячейка имеет выводы для подключения к столбцам и строкам матрицы (шинам WL и BL).

##### **6Т ячейка статической памяти**
*   6Т – наиболее распространённый вариант реализации ячейки статической памяти.
*   В составе ячейки используются транзисторы самого малого размера (для увеличения плотности размещения).
*   **Преимущества:**
    *   Хорошее значение помехоустойчивости.
    *   Низкий уровень тока утечки.
    *   Не требуется обновление состояния.
*   **Недостаток:** Требуются усилители считывания / записи.

##### **Блок статической памяти (фрагмент)**
*   Показана матрица ячеек SRAM, соединённых шинами слов (WL) и шинами разряда (BL).

##### **Топология 6Т ячейки статической памяти**
*   Представлена физическая топология (layout) 6Т ячейки SRAM, показывающая расположение транзисторов, контактов, шин BL, Word Line и Vdd.

---

#### **Часть 4. Элементы динамической памяти (DRAM)**

##### **Место динамической памяти (DRAM)**
*   **Применение:** Основа ОЗУ.
*   Как правило, выпускается в виде внешних модулей.
*   Хранит состояние в течение ограниченного времени при наличии питания (требует периодического обновления).
*   **Свойства по сравнению со статическим ОЗУ:**
    *   Больше скорость доступа (может быть как преимуществом, так и недостатком в разных контекстах, но для ОЗУ это обычно преимущество).
    *   Ниже стоимость.
    *   Больше мощность потребления.
    *   Больше плотность упаковки.
    *   Нет произвольного доступа (обычно постраничный).
    *   Требуются сложные контроллеры.

##### **Ячейка динамической памяти**
*   **Состав ячейки для хранения 1 бита:** 1 МОПТ + 1 конденсатор.
*   Cs – С₃ следующего МОПТ + Ссп от МР (10...50 фФ).
*   **Принцип записи (при СК = V¹лог):**
    *   Запись "1": VBL = V¹лог → Cs заряжается до (VDD – Vпор).
    *   Запись "0": VBL = V⁰лог → Cs разряжается до 0.
*   **Время зарядки (МР в насыщении):** t90% ≈ 18Cx / βn (VDD – Vпор).
*   **Время разрядки (МР в триодной области):** t10% ≈ 2,9Cx / βn (VDD).

##### **Структура ячейки динамической памяти**
*   **Старый вариант (с ёмкостью стокового p-n-перехода МОПТ):**
    *   Использовал ёмкость p-n-перехода как запоминающий элемент.
*   **Современный вариант (со специальным 3D-конденсатором):**
    *   Использует специально разработанный 3D-конденсатор для увеличения ёмкости.
    *   **Недостаток:** Усложнение технологического процесса производства.

##### **Блок динамической памяти (фрагмент)**
*   **Минимальный объём считывания:** Целая строка.
*   Как правило, считывают целыми страницами (блоками).
*   Представлена матрица DRAM-ячеек с шинами Wordline, Bitline и усилителями чтения (Sense Amplifier).

---